var app=angular.module("App",["ui.router","ngMaterial","satellizer"]);app.config(["$stateProvider","$urlRouterProvider","$httpProvider",function($stateProvider,$urlRouterProvider,$httpProvider){"use strict";$stateProvider.state("login",{url:"/login",views:{main:{templateUrl:"views/login.html",controller:"LoginCtrl"}}}).state("about",{url:"/about",views:{main:{templateUrl:"views/about.html",controller:"AboutCtrl"}}}).state("contact",{url:"/contact",views:{main:{templateUrl:"views/contact.html",controller:"DefaultCtrl"}}}),$urlRouterProvider.otherwise("/login"),$httpProvider.interceptors.push("httpResponseInterceptor")}]),app.config(function($authProvider){"use strict";$authProvider.baseUrl=".",$authProvider.loginUrl="api/login"}),app.factory("httpResponseInterceptor",["$q","$injector",function($q,$injector){"use strict";return{responseError:function(response){var mdDialog=$injector.get("$mdDialog");return mdDialog.show(mdDialog.alert({title:"Error",content:response.statusText,ok:"OK"})),$q.reject(response)}}}]),app.controller("DefaultCtrl",["$scope",function($scope){"use strict";$scope.dummy="Hello Angular World!"}]),app.controller("LoginCtrl",["$scope","$http","$auth",function($scope,$http,$auth){"use strict";$scope.authenticated={status:$auth.isAuthenticated(),data:$auth.getPayload()},$scope.user={name:"test",password:"test"},$scope.submit=function(){$auth.login($scope.user).then(function(){$scope.authenticated={status:$auth.isAuthenticated(),data:$auth.getPayload()}})["catch"](function(response){console.error(response)})},$scope.logout=function(){$auth.isAuthenticated()&&$auth.logout().then(function(){$scope.authenticated={status:$auth.isAuthenticated(),data:$auth.getPayload()}})}}]),app.controller("AboutCtrl",["$scope","$http","$auth",function($scope,$http){"use strict";$http.get("api/data").then(function(response){$scope.items=response.data})}]);